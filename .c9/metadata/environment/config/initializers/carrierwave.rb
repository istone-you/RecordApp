{"filter":false,"title":"carrierwave.rb","tooltip":"/config/initializers/carrierwave.rb","undoManager":{"mark":9,"position":9,"stack":[[{"start":{"row":6,"column":41},"end":{"row":6,"column":42},"action":"remove","lines":["3"],"id":13}],[{"start":{"row":6,"column":41},"end":{"row":6,"column":42},"action":"insert","lines":["1"],"id":14}],[{"start":{"row":10,"column":27},"end":{"row":10,"column":36},"action":"remove","lines":["istone_e3"],"id":15},{"start":{"row":10,"column":27},"end":{"row":10,"column":36},"action":"insert","lines":["recordapp"]}],[{"start":{"row":0,"column":0},"end":{"row":13,"column":3},"action":"remove","lines":["CarrierWave.configure do |config|","  config.fog_provider = 'fog/aws'                        # required","  config.fog_credentials = {","    provider:              'AWS',                        # required","    aws_access_key_id:     ENV['AWS_S3_ACCESS_KEY_ID'],  # required","    aws_secret_access_key: ENV['AWS_S3_SECRET_ACCESS_KEY'],     # required","    region:                'ap-northeast-1',                   # optional, defaults to 'us-east-1' オハイオ＝us-east-2","    #host:                  's3.example.com',             # optional, defaults to nil","    #endpoint:              'https://s3.example.com:8080' # optional, defaults to nil","  }","  config.fog_directory  = 'recordapp'                # required","  config.fog_public     = false                                                 # optional, defaults to true","  config.fog_attributes = { cache_control: \"public, max-age=#{365.days.to_i}\" } # optional, defaults to {}","end"],"id":16},{"start":{"row":0,"column":0},"end":{"row":21,"column":3},"action":"insert","lines":["require 'carrierwave/storage/abstract'","require 'carrierwave/storage/file'","require 'carrierwave/storage/fog'","","CarrierWave.configure do |config|","  if Rails.env.production? # 本番環境の場合はS3へアップロード","    config.storage :fog","    config.fog_provider = 'fog/aws'","    config.fog_directory  = 'matsubishi-sample' # バケット名","    config.fog_public = false","    config.fog_credentials = {","      provider: 'AWS',","      aws_access_key_id: ENV['S3_ACCESS_KEY_ID'], # アクセスキー","      aws_secret_access_key: ENV['S3_SECRET_ACCESS_KEY'], # シークレットアクセスキー","      region: 'ap-northeast-1', # リージョン","      path_style: true","    }","  else # 本番環境以外の場合はアプリケーション内にアップロード","    config.storage :file","    config.enable_processing = false if Rails.env.test?","  end","end"]}],[{"start":{"row":8,"column":45},"end":{"row":8,"column":46},"action":"remove","lines":["e"],"id":17},{"start":{"row":8,"column":44},"end":{"row":8,"column":45},"action":"remove","lines":["l"]},{"start":{"row":8,"column":43},"end":{"row":8,"column":44},"action":"remove","lines":["p"]},{"start":{"row":8,"column":42},"end":{"row":8,"column":43},"action":"remove","lines":["m"]},{"start":{"row":8,"column":41},"end":{"row":8,"column":42},"action":"remove","lines":["a"]},{"start":{"row":8,"column":40},"end":{"row":8,"column":41},"action":"remove","lines":["s"]},{"start":{"row":8,"column":39},"end":{"row":8,"column":40},"action":"remove","lines":["-"]},{"start":{"row":8,"column":38},"end":{"row":8,"column":39},"action":"remove","lines":["i"]},{"start":{"row":8,"column":37},"end":{"row":8,"column":38},"action":"remove","lines":["h"]},{"start":{"row":8,"column":36},"end":{"row":8,"column":37},"action":"remove","lines":["s"]},{"start":{"row":8,"column":35},"end":{"row":8,"column":36},"action":"remove","lines":["i"]},{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"remove","lines":["b"]},{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"remove","lines":["u"]},{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"remove","lines":["s"]},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"remove","lines":["t"]}],[{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"remove","lines":["a"],"id":18},{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"remove","lines":["m"]}],[{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"insert","lines":["r"],"id":19},{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"insert","lines":["e"]},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["c"]},{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":["o"]},{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"insert","lines":["r"]},{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"insert","lines":["d"]},{"start":{"row":8,"column":35},"end":{"row":8,"column":36},"action":"insert","lines":["a"]}],[{"start":{"row":8,"column":36},"end":{"row":8,"column":37},"action":"insert","lines":["p"],"id":20},{"start":{"row":8,"column":37},"end":{"row":8,"column":38},"action":"insert","lines":["p"]}],[{"start":{"row":12,"column":30},"end":{"row":12,"column":46},"action":"remove","lines":["S3_ACCESS_KEY_ID"],"id":21},{"start":{"row":12,"column":30},"end":{"row":12,"column":50},"action":"insert","lines":["AKIA4BMQ2F4GWMQYYGDQ"]}],[{"start":{"row":13,"column":34},"end":{"row":13,"column":54},"action":"remove","lines":["S3_SECRET_ACCESS_KEY"],"id":22},{"start":{"row":13,"column":34},"end":{"row":13,"column":74},"action":"insert","lines":["K6aUVNkqR6WfxTduH7TeVqWh2EGS0LDHDW9rtMa6"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":74},"end":{"row":13,"column":74},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1639754551495,"hash":"f0e69b2fc70908ae9d1b4835488fb20684d901ab"}